<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Kuis Anak Berhadiah</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:"Segoe UI",Arial,sans-serif;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#fff59d,#81d4fa,#ce93d8);
}
.card{
  width:500px;
  background:#ffffffee;
  padding:28px;
  border-radius:24px;
  box-shadow:0 18px 40px rgba(0,0,0,.18);
  text-align:center;
}
.field{text-align:left;margin:14px 0}
label{font-weight:700}
input{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:2px solid #90caf9;
  font-size:16px;
}
button{
  width:100%;
  padding:14px;
  margin:8px 0;
  border-radius:16px;
  border:none;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
}
.btn-sound{background:#5e35b1;color:white}
.btn-start{background:#43a047;color:white}
.answer-btn{background:#e3f2fd}
.timer{
  font-size:22px;
  font-weight:800;
  color:#e53935;
  margin:12px 0;
}
.correct-bg{background:linear-gradient(135deg,#a5d6a7,#80deea)}
.wrong-bg{background:linear-gradient(135deg,#ef9a9a,#ffccbc)}
.shake{animation:shake .4s}
@keyframes shake{
  0%{transform:translateX(0)}
  25%{transform:translateX(-8px)}
  50%{transform:translateX(8px)}
  75%{transform:translateX(-6px)}
  100%{transform:translateX(0)}
}
.confetti{
  position:fixed;
  inset:0;
  pointer-events:none;
  background:
    radial-gradient(circle,#ff5252 4px,transparent 5px),
    radial-gradient(circle,#ffeb3b 4px,transparent 5px),
    radial-gradient(circle,#4caf50 4px,transparent 5px),
    radial-gradient(circle,#2196f3 4px,transparent 5px);
  animation:fade 1.6s forwards;
}
@keyframes fade{to{opacity:0}}
</style>
</head>

<body>
<div class="card"><div id="screen"></div></div>

<script>
/* ===== BASIC ===== */
const screen=document.getElementById("screen");

/* ===== SOUND ===== */
let audioCtx=null, soundOn=false;
function enableSound(){
  audioCtx = audioCtx || new (window.AudioContext||window.webkitAudioContext)();
  audioCtx.resume(); soundOn=true; beep(600,.15);
}
function beep(f,d){
  if(!soundOn) return;
  const o=audioCtx.createOscillator();
  const g=audioCtx.createGain();
  o.frequency.value=f;
  o.connect(g); g.connect(audioCtx.destination);
  o.start();
  g.gain.exponentialRampToValueAtTime(.001,audioCtx.currentTime+d);
  o.stop(audioCtx.currentTime+d);
}
function applause(){
  if(!soundOn) return;
  for(let i=0;i<6;i++){
    setTimeout(()=>beep(800+Math.random()*400,0.08), i*120);
  }
}

/* ===== SPEECH ===== */
function speak(text,rate=1.05,cb=null){
  if(!soundOn){ cb&&cb(); return; }
  const u=new SpeechSynthesisUtterance(text);
  u.lang="id-ID"; u.rate=rate;
  u.onend=()=>cb&&cb();
  speechSynthesis.speak(u);
}

/* ===== TERBILANG ===== */
function terbilang(n){
 const s=["","satu","dua","tiga","empat","lima","enam","tujuh","delapan","sembilan"];
 if(n<10) return s[n];
 if(n<20) return n==10?"sepuluh":n==11?"sebelas":s[n-10]+" belas";
 if(n<100) return s[Math.floor(n/10)]+" puluh "+terbilang(n%10);
 if(n<200) return "seratus "+terbilang(n-100);
 if(n<1000) return s[Math.floor(n/100)]+" ratus "+terbilang(n%100);
 if(n<2000) return "seribu "+terbilang(n-1000);
 if(n<1000000) return terbilang(Math.floor(n/1000))+" ribu "+terbilang(n%1000);
 return "";
}


/* ===== SOAL ===== */
const knowledgePool=[
 {q:"1 + 2 = ?",opts:["3","4","5"],a:"3",min:4,max:6},
 {q:"3 + 4 = ?",opts:["6","7","8"],a:"7",min:4,max:6},
 {q:"5 - 3 = ?",opts:["2","1","3"],a:"2",min:4,max:6},
 {q:"10 - 4 = ?",opts:["4","5","6"],a:"6",min:4,max:6},
 {q:"9 - 5 = ?",opts:["4","5","6"],a:"4",min:4,max:6},
 {q:"10 + 15 = ?",opts:["25","20","30"],a:"25",min:7,max:10},
 {q:"3 x 4 = ?",opts:["12","7","9"],a:"12",min:7,max:10},
 {q:"4 x 5 = ?",opts:["20","25","30"],a:"20",min:7,max:10},
 {q:"20 : 5 = ?",opts:["4","5","6"],a:"4",min:7,max:10},
 {q:"15 : 5 = ?",opts:["3","5","7"],a:"3",min:7,max:10},
 {"q":"Warna bendera Indonesia?", "opts":["Merah Putih","Putih Biru","Hijau Kuning"], "a":"Merah Putih", "min":4, "max":10},
 {"q":"Hewan yang bisa terbang?", "opts":["Kucing","Burung","Ikan"], "a":"Burung", "min":4, "max":10},
 {"q":"Matahari terbit dari?", "opts":["Barat","Timur","Utara"], "a":"Timur", "min":4, "max":10},
 {"q":"1 minggu ada berapa hari?", "opts":["5","7","10"], "a":"7", "min":4, "max":10},
 {"q":"Bunyi kucing?", "opts":["Meong","Guk","Moo"], "a":"Meong", "min":4, "max":6},
 {"q":"Buah apa yang warnanya kuning dan monyet suka?", "opts":["Apel","Pisang","Jeruk"], "a":"Pisang", "min":4, "max":6},
 {"q":"Berapa jumlah jari tangan kita?", "opts":["5","10","8"], "a":"10", "min":4, "max":6},
 {"q":"Hewan apa yang lehernya sangat panjang?", "opts":["Zebra","Gajah","Jerapah"], "a":"Jerapah", "min":4, "max":7},
 {"q":"Apa alat untuk menulis di buku?", "opts":["Pensil","Gunting","Sapu"], "a":"Pensil", "min":4, "max":6},
 {"q":"Apa yang melindungi kepala kita dari hujan dan panas?", "opts":["Sepatu","Payung","Jaket"], "a":"Payung", "min":4, "max":7},
 {"q":"Siapa presiden Indonesia saat ini?", "opts":["Joko Widodo","Prabowo","Susilo Bambang Yudhoyono"], "a":"Prabowo", "min":7, "max":8},
 {"q":"Apa nama planet tempat kita tinggal?", "opts":["Mars","Jupiter","Bumi"], "a":"Bumi", "min":9, "max":10},
 {"q":"Kota Jakarta adalah ibu kota negara apa?", "opts":["Malaysia","Indonesia","Singapura"], "a":"Indonesia", "min":7, "max":8},
 {"q":"Berapa banyak kaki pada seekor laba-laba?", "opts":["6","8","4"], "a":"8", "min":6, "max":8},
 {"q":"Apa yang bisa naik tapi tidak bisa turun?", "opts":["Roket","Usia","Harga"], "a":"Usia", "min":7, "max":8},
 {"q":"Warna apa yang dihasilkan jika mencampur biru dan kuning?", "opts":["Merah","Hijau","Ungu"], "a":"Hijau", "min":7, "max":9},
 {"q":"Negara apa yang punya piramida besar?", "opts":["Mesir","Italia","Cina"], "a":"Mesir", "min":8, "max":9},
 {"q":"Hewan apa yang paling setia?", "opts":["Kucing","Anjing","Ikan"], "a":"Anjing", "min":8, "max":9},
 {"q":"Apa nama samudra terbesar di dunia?", "opts":["Atlantik","Pasifik","Hindia"], "a":"Pasifik", "min":9, "max":10},
 {"q":"Bahasa nasional negara Indonesia adalah...?", "opts":["Bahasa Jawa","Bahasa Inggris","Bahasa Indonesia"], "a":"Bahasa Indonesia", "min":9, "max":10},
 {"q":"What color is the sky?", "opts":["Green","Blue","Red"], "a":"Blue", "min":8, "max":10},
 {"q":"How many legs does a dog have?", "opts":["Two","Four","Six"], "a":"Four", "min":8, "max":10},
 {"q":"Which animal says 'Moo'?", "opts":["Cat","Cow","Dog"], "a":"Cow", "min":8, "max":10},
 {"q":"What planet is known as the 'Red Planet'?", "opts":["Earth","Mars","Jupiter"], "a":"Mars", "min":9, "max":10}
];

const bonusPool=[
 {q:"48 : 6 = ?",opts:["8","6","7"],a:"8",min:7,max:10},
 {q:"25 x 4 = ?",opts:["100","90","80"],a:"100",min:7,max:10},
 {"q":"Apa ibukota Jepang?", "opts":["Seoul","Beijing","Tokyo"], "a":"Tokyo", "min":9, "max":10},
 {"q":"Planet terdekat dengan Matahari adalah...?", "opts":["Venus","Mars","Merkurius"], "a":"Merkurius", "min":9, "max":10},
 {"q":"Apa nama benua terbesar di dunia?", "opts":["Afrika","Eropa","Asia"], "a":"Asia", "min":9, "max":10},
 {"q":"Berapa benua di dunia?", "opts":["5","6","7"], "a":"7", "min":9, "max":10},
 {"q":"Kapan waktu yang tepat untuk kita bisa melihat bintang dan bulan di langit?", "opts":["Pagi hari saat matahari terbit","Siang hari saat sangat panas","Malam hari saat gelap"], "a":"Malam hari saat gelap", "min":4, "max":6},
 {"q":"Es batu jika diletakkan di bawah sinar matahari yang panas akan menjadi?", "opts":["Hilang","Air","Uap"], "a":"Air", "min":4, "max":6}
];

/* ===== STATE ===== */
let name="",age=0,level=1,money=0,used=[];
let timer,timeLeft=10;
const reward={1:5000,2:10000,3:15000,4:20000,5:25000,6:50000};

/* ===== UI ===== */
function startScreen(){
 screen.innerHTML=`
  <h2>ğŸ‰ KUIS ANAK CERDAS ğŸ‰</h2>
  <button class="btn-sound" onclick="enableSound()">ğŸ”Š Aktifkan Suara</button>
  <div class="field"><label>Nama</label><input id="nameInput"></div>
  <div class="field"><label>Umur (4â€“10)</label><input id="ageInput" type="number"></div>
  <button class="btn-start" onclick="startGame()">ğŸš€ Mulai</button>
 `;
}

/* ===== TIMER ===== */
function startTimer(){
 timeLeft=10;
 document.getElementById("timer").innerText=timeLeft;
 timer=setInterval(()=>{
  timeLeft--;
  document.getElementById("timer").innerText=timeLeft;
  if(timeLeft<=0){ clearInterval(timer); level++; next(); }
 },1000);
}

/* ===== GAME ===== */
function startGame(){
 if(!soundOn){alert("Aktifkan suara dulu");return;}
 name=document.getElementById("nameInput").value.trim();
 age=parseInt(document.getElementById("ageInput").value);
 if(!name||age<4||age>10){alert("Umur 4â€“10");return;}

 screen.innerHTML=`<h2>Halo ${name}! Siap bermain?</h2>`;
 speak(`Halo ğŸ‘‹ ${name}. Siap bermain?`,1,()=>setTimeout(()=>{
   level=1;money=0;used=[]; next();
 },7000));
}

function verbal(q){
 return q.replace("+"," tambah ")
         .replace("-"," kurang ")
         .replace("x"," kali ")
         .replace(":"," bagi ");
}

function bacaOpsi(o,i=0){
 if(i>=o.length){ startTimer(); return; }
 speak(`Pilihan ${String.fromCharCode(65+i)}, ${o[i]}`,1.05,()=>bacaOpsi(o,i+1));
}

function next(){
 clearInterval(timer);
 if(level>6){ finish(); return; }

 let pool=level===6?bonusPool:knowledgePool;
 let avail=pool.filter(q=>age>=q.min&&age<=q.max&&!used.includes(q.q));
 if(avail.length===0){ finish(); return; }

 let q=avail[Math.floor(Math.random()*avail.length)];
 used.push(q.q);

 screen.innerHTML=`
  <h3>${level===6?"ğŸ BONUS":"LEVEL "+level}</h3>
  <div class="timer">â± <span id="timer">10</span></div>
  <div>${q.q}</div>
  ${q.opts.map(o=>`<button class="answer-btn" onclick="answer('${o}','${q.a}')">${o}</button>`).join("")}
 `;
 speak(verbal(q.q),1.05,()=>bacaOpsi(q.opts));
}

function answer(v,a){
 clearInterval(timer);
 if(v===a){ money+=reward[level]; beep(1200,.2); }
 else{ beep(200,.2); }
 level++; setTimeout(next,700);
}

/* ===== FINISH ===== */
function finish(){
 screen.innerHTML=`
  <h2>ğŸ‰ SELAMAT ${name.toUpperCase()} ğŸ‰</h2>
  <h3>Rp ${money.toLocaleString()}</h3>
  <button class="btn-start" onclick="startScreen()">ğŸ” Main Lagi</button>
 `;

 // ğŸŠ CONFETTI
 const c=document.createElement("div");
 c.className="confetti";
 document.body.appendChild(c);
 setTimeout(()=>c.remove(),1600);

 // ğŸ‘ SOUND EFFECT
 applause();

 // ğŸ—£ï¸ MC HORE + TERBILANG
 speak(
   `Horeee! Selamat ${name}. Kamu hebat! Total hadiah kamu adalah ${terbilang(money)} rupiah`,
   0.95
 );
}


startScreen();
</script>
</body>
</html>

